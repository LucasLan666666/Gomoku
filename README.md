# 五子棋说明

## 内容

1. 中国科学院大学 2023 年秋季武成岗老师班 C 语言大作业
2. 由于原始棋盘在终端显示过窄，借用了 [@Squareless-XD](https://github.com/Squareless-XD) 学长的创意，在同一行每相邻两个纵向落子的位置间增加了一条横线
3. 关于棋盘一些基础函数由老师提供，代码中用到的字符艺术来源于互联网，其余内容均由本人撰写
4. 正在持续更新中，如果有任何修改建议，欢迎联系我

## 注意事项

1. 一切操作需要在 `linux` 环境下进行
2. 请将终端的字符编码格式设置为 `utf-8` ，字符显示设置为窄字符，否则会出现显示问题
3. 请确保程序执行目录下具有创建和读写文件与文件夹的权限，否则不能使用记谱与悔棋功能
4. ***请不要在游戏过程中修改或者删除 `game_record` 文件夹以及该目录下的文件，否则会导致严重错误！***

## 使用方法

### 进行游戏

1. 打开游戏文件夹 `src`
2. 编译：
   ```bash
   gcc -o gomoku * -O3
   ```
3. 运行：
    ```bash
    ./gomoku
    ```

### 记录棋谱 & 读取棋谱

- 游戏中会提示玩家可以创建棋谱，默认在 `gomoku` 程序所在目录下建立一个名为 `game_record` 的文件夹。

- 文件夹内会以 `txt` 文件存储对局。

- 读谱方法：

  在命令行输入：

  ```bash
  cat game_record/你的存档名.txt - | ./gomoku 
  ```

## 更新日志

- 2023.12.11：
    - 对实验课当堂内容进行整理，实现了选择游戏模式、退出游戏以及落子的功能
    - 目前尚不能判断五子连珠，人机对战模式和悔棋功能均在开发中

- 2023.12.14:
    - 对游戏界面进行了优化
    - 增加了记谱功能
    - 修复部分bug

- 2023.12.31:
    - 完成了五子连珠判定和悔棋功能
    - 已经能支持双人模式，并判断正负

- 2024.01.03
  - 增加了读谱功能（仅限于显示出棋局，但是有 bug，怀疑和 `pipe ` 的工作方式有关系）

- 2024.01.06
  - 实现了随机落子功能

- 2024.01.10
  - 实现了禁手检测功能，包括复杂禁手

## 参考资料

- [International Rules of Renju - RenjuNet](https://www.renju.net/rifrules/)
- [【断奶班】五子棋零基础自学一本通（转载） - klchang - 博客园 (cnblogs.com)](https://www.cnblogs.com/klchang/articles/4542994.html)
- [五子棋复杂禁手的判断例题一则 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/527374023)

